{% extends "base.html" %}

{% block title %}Т-Банк Система блокировки платежей - Главная{% endblock %}

{% block content %}
<div class="page-header">
    <h1><i class="fas fa-shield-alt me-2"></i>Система блокировки платежей Т-Банка</h1>
    <p class="lead">
        Управление блокировками платежей клиентов с категоризацией для предотвращения мошенничества и устранения ошибок в платежах.
    </p>
</div>

<div class="row mb-5">
    <div class="col-md-6">
        <div class="card h-100">
            <div class="card-body">
                <h5 class="card-title"><i class="fas fa-info-circle me-2"></i>Обзор системы</h5>
                <p class="card-text">
                    Система блокировки платежей Т-Банка разработана для помощи банковскому персоналу в управлении блокировками платежей для юридических лиц. 
                    Система позволяет категоризировать блокировки по причинам, разделяя подозрения на мошенничество и технические проблемы с платежами.
                </p>
                <p class="card-text">
                    Ключевые возможности:
                </p>
                <ul>
                    <li>Блокировка платежей для конкретных клиентов</li>
                    <li>Разблокировка платежей клиентов после устранения проблем</li>
                    <li>Проверка статуса блокировки клиента</li>
                    <li>Различение между блокировками из-за мошенничества и техническими проблемами</li>
                    <li>Полный просмотр истории блокировок для аудита</li>
                </ul>
            </div>
        </div>
    </div>
    
    <div class="col-md-6">
        <div class="card h-100">
            <div class="card-body">
                <h5 class="card-title"><i class="fas fa-code me-2"></i>Информация об API</h5>
                <p class="card-text">
                    Эта система предоставляет RESTful API для интеграции с платежными системами Т-Банка.
                </p>
                <h6>Ключевые эндпоинты:</h6>
                <ul>
                    <li>
                        <span class="api-method api-method-post">POST</span>
                        <span class="api-endpoint">/api/v1/clients/{идентификатор_клиента}/block</span> - Блокировка платежей клиента
                    </li>
                    <li>
                        <span class="api-method api-method-post">POST</span>
                        <span class="api-endpoint">/api/v1/clients/{идентификатор_клиента}/unblock</span> - Разблокировка платежей клиента
                    </li>
                    <li>
                        <span class="api-method api-method-get">GET</span>
                        <span class="api-endpoint">/api/v1/clients/{идентификатор_клиента}/status</span> - Проверка статуса блокировки клиента
                    </li>
                    <li>
                        <span class="api-method api-method-get">GET</span>
                        <span class="api-endpoint">/api/v1/clients/{идентификатор_клиента}/history</span> - Просмотр истории блокировок клиента
                    </li>
                    <li>
                        <span class="api-method api-method-get">GET</span>
                        <span class="api-endpoint">/api/v1/blocks</span> - Список и фильтрация блокировок платежей
                    </li>
                </ul>
                
                <div class="mt-3">
                    <a href="/docs" class="btn btn-info">
                        <i class="fas fa-book me-2"></i>Просмотр полной документации API
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0"><i class="fas fa-terminal me-2"></i>Пример использования API</h5>
            </div>
            <div class="card-body">
                <h6>Блокировка платежей клиента:</h6>
                <pre class="code-block">
curl -X POST "http://localhost:5000/api/v1/clients/ООО_КОМПАНИЯ/block" \
     -H "Content-Type: application/json" \
     -d '{
       "reason": "fraud_suspicion",
       "details": "Обнаружена подозрительная схема транзакций",
       "blocked_by": "иванов.и"
     }'</pre>
                
                <h6 class="mt-4">Проверка статуса блокировки клиента:</h6>
                <pre class="code-block">
curl -X GET "http://localhost:5000/api/v1/clients/ООО_КОМПАНИЯ/status"</pre>
                
                <h6 class="mt-4">Разблокировка платежей клиента:</h6>
                <pre class="code-block">
curl -X POST "http://localhost:5000/api/v1/clients/ООО_КОМПАНИЯ/unblock" \
     -H "Content-Type: application/json" \
     -d '{
       "unblocked_by": "петрова.а",
       "reason": "Расследование завершено, мошенничество не подтверждено"
     }'</pre>
            </div>
        </div>
    </div>
</div>
{% endblock %}
